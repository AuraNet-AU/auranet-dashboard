{% extends "base.html" %}

{% block container_width %}800px{% endblock %}
{% block content_width %}800px{% endblock %}

{% block extra_styles %}
  .step-item {
    display: flex;
    align-items: flex-start;
    padding: 1rem 0;
    border-bottom: 1px solid #f1f5f9;
  }

  .step-item:last-child  { border-bottom: none; padding-bottom: 0; }
  .step-item:first-child { padding-top: 0; }

  .step-number {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--aura-primary) 0%, var(--aura-primary-dark) 100%);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.875rem;
    flex-shrink: 0;
    margin-right: 1rem;
  }

  .step-content h4 { font-size: 0.9375rem; font-weight: 600; color: #1e293b; margin-bottom: 0.25rem; }
  .step-content p  { font-size: 0.875rem; color: #64748b; margin: 0; line-height: 1.5; }

  .accordion { border: none; }

  .accordion-item {
    border: none;
    background: #f8fafc;
    border-radius: 10px !important;
    margin-bottom: 0.625rem;
    overflow: hidden;
  }

  .accordion-button {
    background: #f8fafc;
    border: none;
    font-weight: 600;
    font-size: 0.9375rem;
    color: #1e293b;
    padding: 1rem 1.25rem;
    box-shadow: none !important;
  }

  .accordion-button:not(.collapsed) {
    background: linear-gradient(135deg, #eef2ff 0%, #e0e7ff 100%);
    color: var(--aura-primary-dark);
  }

  .accordion-button::after { background-size: 1rem; width: 1rem; height: 1rem; }

  .accordion-button:not(.collapsed)::after {
    filter: brightness(0) saturate(100%) invert(26%) sepia(94%) saturate(2771%) hue-rotate(235deg) brightness(89%) contrast(95%);
  }

  .accordion-body {
    background: white;
    padding: 1rem 1.25rem;
    font-size: 0.875rem;
    color: #475569;
    line-height: 1.6;
    border-top: 1px solid #e2e8f0;
  }

  .accordion-body ul, .accordion-body ol { margin-bottom: 0; padding-left: 1.25rem; }
  .accordion-body li { margin-bottom: 0.375rem; }
  .accordion-body li:last-child { margin-bottom: 0; }
{% endblock %}

{% set active_page = 'help' %}

{% block content %}

  <!-- GETTING STARTED -->
  <div class="aura-card">
    <div class="aura-card-header">
      <div class="header-icon" style="background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%); color: #16a34a;">
        <i class="bi bi-rocket-takeoff"></i>
      </div>
      <h2>Getting Started</h2>
    </div>
    <div class="aura-card-body">
      <div class="step-item">
        <div class="step-number">1</div>
        <div class="step-content">
          <h4>Choose a Protection Mode</h4>
          <p>On the Home page, select <strong>Kids Mode</strong> for maximum protection, <strong>Family Mode</strong> for balanced protection, or <strong>Standard Mode</strong> for basic ad-blocking.</p>
        </div>
      </div>
      <div class="step-item">
        <div class="step-number">2</div>
        <div class="step-content">
          <h4>Name Your Devices (Optional)</h4>
          <p>Go to the Devices page to give friendly names to your devices, like "Dad's iPhone" or "Kids Tablet".</p>
        </div>
      </div>
      <div class="step-item">
        <div class="step-number">3</div>
        <div class="step-content">
          <h4>You're Protected!</h4>
          <p>That's it! Every device on your WiFi is now protected automatically. No apps to install on any device.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- COMMON QUESTIONS -->
  <div class="aura-card">
    <div class="aura-card-header">
      <div class="header-icon" style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); color: #2563eb;">
        <i class="bi bi-chat-left-text"></i>
      </div>
      <h2>Common Questions</h2>
    </div>
    <div class="aura-card-body">
      <div class="accordion" id="faqAccordion">

        <div class="accordion-item">
          <h3 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
              <i class="bi bi-globe me-2 text-primary"></i>A website I need is being blocked
            </button>
          </h3>
          <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Go to the Home page, scroll to "Allow or Block a Website", enter the website address (like "example.com"), and click <strong>Allow</strong>. The site will be unblocked within a few minutes.
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h3 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
              <i class="bi bi-clock-history me-2 text-primary"></i>I allowed/blocked a site but nothing changed
            </button>
          </h3>
          <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Your browser and devices cache website addresses. Try:
              <ul class="mt-2">
                <li>Wait 5 minutes and try again</li>
                <li>Close and reopen your browser completely</li>
                <li>Restart the device (phone, tablet, or computer)</li>
              </ul>
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h3 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
              <i class="bi bi-pause-circle me-2 text-primary"></i>Why would I pause protection?
            </button>
          </h3>
          <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Sometimes a website you trust might be incorrectly blocked. Instead of pausing (which removes ALL protection), we recommend using the "Allow" feature to unblock just that specific site. Only pause protection as a last resort.
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h3 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
              <i class="bi bi-speedometer2 me-2 text-primary"></i>Does AuraNet slow down my internet?
            </button>
          </h3>
          <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              No! It often makes your internet feel <em>faster</em> because it blocks ads and trackers before they load. You'll notice web pages load quicker and use less data.
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h3 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq5">
              <i class="bi bi-download me-2 text-primary"></i>Do I need to install anything on my devices?
            </button>
          </h3>
          <div id="faq5" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              No! AuraNet protects your entire network automatically. Any device that connects to your home WiFi is protected — phones, tablets, computers, smart TVs, game consoles, everything.
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h3 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq6">
              <i class="bi bi-shield-check me-2 text-primary"></i>What's the difference between protection modes?
            </button>
          </h3>
          <div id="faq6" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              <ul>
                <li><strong>Kids Mode:</strong> Blocks adult content, social media, gambling, gaming, dangerous sites, ads, and VPNs</li>
                <li><strong>Family Mode:</strong> Blocks adult content, gambling, dangerous sites, ads, and VPNs</li>
                <li><strong>Standard Mode:</strong> Blocks dangerous sites and ads only</li>
              </ul>
              Kids and Family modes both include VPN blocking, which is what enforces Australia's social media ban — without it, kids can simply install a VPN app to bypass any content filter.
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h3 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq7">
              <i class="bi bi-person-lock me-2 text-primary"></i>Can my kids bypass AuraNet?
            </button>
          </h3>
          <div id="faq7" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              AuraNet is designed to close the two main bypass routes:
              <ul class="mt-2">
                <li><strong>VPNs:</strong> Kids Mode and Family Mode block VPN services at the network level, so VPN apps can't connect even if installed. This is how AuraNet enforces Australia's social media ban — standard router controls can't do this.</li>
                <li><strong>Mobile data:</strong> If a child switches from WiFi to 4G/5G on their phone, they bypass your home network entirely. To prevent this, you can turn off mobile data in your child's device settings, or ask your mobile provider about restricting it.</li>
              </ul>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- TROUBLESHOOTING -->
  <div class="aura-card">
    <div class="aura-card-header">
      <div class="header-icon" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); color: #d97706;">
        <i class="bi bi-wrench"></i>
      </div>
      <h2>Troubleshooting</h2>
    </div>
    <div class="aura-card-body">
      <div class="accordion" id="troubleAccordion">

        <div class="accordion-item">
          <h3 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#trouble1">
              <i class="bi bi-wifi-off me-2 text-warning"></i>The internet isn't working at all
            </button>
          </h3>
          <div id="trouble1" class="accordion-collapse collapse" data-bs-parent="#troubleAccordion">
            <div class="accordion-body">
              <ol>
                <li>Check if your main router has internet (try connecting directly to it)</li>
                <li>Unplug your AuraNet device, wait 30 seconds, plug it back in</li>
                <li>Wait 2-3 minutes for it to fully start up</li>
                <li>If still not working, check the <a href="{{ url_for('health') }}">System Health</a> page</li>
              </ol>
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h3 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#trouble2">
              <i class="bi bi-shield-x me-2 text-warning"></i>The status shows "Unprotected"
            </button>
          </h3>
          <div id="trouble2" class="accordion-collapse collapse" data-bs-parent="#troubleAccordion">
            <div class="accordion-body">
              This means protection is paused or disabled. Go to the Home page and click <strong>Enable Protection</strong> to turn it back on.
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h3 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#trouble3">
              <i class="bi bi-megaphone me-2 text-warning"></i>Ads are still showing up
            </button>
          </h3>
          <div id="trouble3" class="accordion-collapse collapse" data-bs-parent="#troubleAccordion">
            <div class="accordion-body">
              Some ads (especially on YouTube and Facebook) are difficult to block because they come from the same servers as the actual content. AuraNet blocks most ads, but not 100%. For better ad blocking on specific apps, consider using their premium ad-free versions.
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h3 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#trouble4">
              <i class="bi bi-laptop me-2 text-warning"></i>A specific device isn't being protected
            </button>
          </h3>
          <div id="trouble4" class="accordion-collapse collapse" data-bs-parent="#troubleAccordion">
            <div class="accordion-body">
              <ol>
                <li>Make sure the device is connected to your home WiFi (not mobile data)</li>
                <li>Restart the device</li>
                <li>On the device, go to WiFi settings and "Forget" the network, then reconnect</li>
                <li>Check that the device doesn't have a custom DNS set (should be "Automatic")</li>
              </ol>
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h3 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#trouble5">
              <i class="bi bi-arrow-repeat me-2 text-warning"></i>Changes aren't taking effect
            </button>
          </h3>
          <div id="trouble5" class="accordion-collapse collapse" data-bs-parent="#troubleAccordion">
            <div class="accordion-body">
              When you change protection modes or allow/block websites, it can take 1-5 minutes to fully apply. If changes still aren't working:
              <ol class="mt-2">
                <li>Clear your browser cache</li>
                <li>Restart your browser</li>
                <li>If still not working, restart the device</li>
              </ol>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- CONTACT -->
  <div class="aura-card">
    <div class="aura-card-header">
      <div class="header-icon" style="background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%); color: #4f46e5;">
        <i class="bi bi-headset"></i>
      </div>
      <h2>Still Need Help?</h2>
    </div>
    <div class="aura-card-body text-center">
      <p class="text-muted mb-3">We're here to help if you have any questions or issues.</p>
      <a href="mailto:support@getauranet.com.au" class="btn btn-primary btn-lg">
        <i class="bi bi-envelope me-2"></i>Contact Support
      </a>
      <p class="small text-muted mt-3 mb-0">Typical response time: Within 24 hours</p>
    </div>
  </div>

{% endblock %}
